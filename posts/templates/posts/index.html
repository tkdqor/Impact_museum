{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'posts/css/main.css' %}">
{% endblock %}

{% block content %}  


    
    <!-- nav 정보 -->
    <nav>
        <button><a href="">로그인</a></button>
        <button><a href="">회원가입</a></button>
        <button><a href="{% url 'posts:cart' %}">장바구니 {{ cartItems }}</a></button>
        <!-- 검색창 만들기 -->
        <form action="" method="GET">          <!-- form element의 action attribute를 비워두게 되면, 현재 form이 있는 같은 주소를 의미 -->
            <input type="text" name="query" value="{{ query }}">   <!-- value로 검색 후에도 키워드가 남아있게끔 설정 -->
            <input type="submit" value="검색하기">
        </form>
        <a href="{% url 'posts:new' %}">상품 추가</a>
    </nav>

    <!-- 상품 목록 리스트 -->
    <div class="product_container">
        
        {% for post in posts %}   
            <div class="product_list">     
                    <div class="product_image_frame">
                        <a href="{% url 'posts:detail' post.id %}">
                            <img id="product_image" src="{{ post.imageURL }}" alt="상품 이미지">
                        </a>
                    </div>    
                    <div class="product_info">    
                        <h1 class="product_info_brand">{{ post.brand }}</h1>
                        <h2 class="product_info_name">{{ post.product_name }}</h2>
                        <h3 class="product_info_price">{{ post.price|floatformat:"0g" }}</h3> 
                    </div>    
            </div>    
        {% endfor %}    
                         
    </div>

{% endblock %}    


